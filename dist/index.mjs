import{create as d}from"zustand";import{combine as s,persist as i}from"zustand/middleware";function T(e){return JSON.parse(JSON.stringify(e))}function U(e,r){return r.every(t=>e[t]!==void 0&&e[t]!==null&&e[t]!=="")}function c(e,r,t){return d(i(s({...e,lastUpdateTime:0},(a,p)=>({...r(a,p),markUpdate(){a({lastUpdateTime:Date.now()})},update(o){let n=T(p());o(n),a({...n,lastUpdateTime:Date.now()})}})),t))}function f(e,r){return d(s({...e,lastUpdateTime:0},(t,a)=>({...r(t,a),markUpdate(){t({lastUpdateTime:Date.now()})},update(p){let o=T(a());p(o),t({...o,lastUpdateTime:Date.now()})}})))}export{c as createPersistStore,f as createStore,T as deepClone,U as ensure};
//# sourceMappingURL=index.mjs.map